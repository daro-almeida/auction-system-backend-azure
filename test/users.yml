config:
  target: "http://localhost:8080/rest"
  processor: "./users.js"
  phases:
  - name: "Warm up"
    duration: 5
    arrivalRate: 1
    rampTo: 5
  - name: "Main"
    duration: 5
    arrivalRate: 10

scenarios:
  - name: "Create user"
    weight: 1
    flow:
      - post:
          url: "/user"
          headers:
            Content-Type: application/json
            Accept: application/json
          beforeRequest: "inject_random_user"
          afterResponse: "on_user_create_complete"